'use client';
import{__rest}from"tslib";import{jsxs,jsx}from"react/jsx-runtime";import Collapse from"../../../../Collapse/Collapse.js";import{useSidebarContext}from"../../../Sidebar.context.js";import{ChevronDownIcon}from"../../../../../icons/ChevronDown.js";import{useComponentTheme}from"../../../../../theme/theme.context.js";import{usePropId}from"../../../../../utils/usePropId.js";import{forwardRef,useState,useMemo}from"react";import{twMerge}from"tailwind-merge";import{useSidebarNavSectionItemContext,SidebarNavSectionItemContextProvider}from"./SidebarNavSectionItem.context.js";const SidebarNavSectionItem=forwardRef(((e,o)=>{const t=useComponentTheme("Sidebar"),{active:s=!1,children:a,className:n,as:r="a",asProps:i,href:c="#",label:l,icon:m,collapsed:d=!0,onClick:p}=e,S=__rest(e,["active","children","className","as","asProps","href","label","icon","collapsed","onClick"]),{color:b,state:v}=useSidebarContext(),j=v.expanded||v.hovered,[x,I]=useState(!1===j||d),h=useMemo((()=>twMerge(t.navSectionItem({active:s,className:n,color:b,opened:j}))),[s,n,b,j,t]),C=usePropId(e.id),u=r||"a",N="button"===r?{type:"button"}:{href:c},f={childrenCollapsed:x},{childrenCollapsed:g}=useSidebarNavSectionItemContext();return jsxs("li",Object.assign({id:C,ref:o,className:t.navSectionItemWrapper({opened:j})},S,{children:[jsxs(u,Object.assign({},N,i,{className:h,onClick:e=>{I(!x),p&&p(e)},tabIndex:g?-1:0},{children:[m&&jsx("span",Object.assign({className:t.navSectionItemIcon()},{children:m})),jsxs("div",Object.assign({className:t.navSectionItemLabelWrapper({opened:j})},{children:[jsx("span",Object.assign({className:t.navSectionItemLabel()},{children:l})),a&&jsx(ChevronDownIcon,{className:t.navSectionItemCollapseIcon({collapsed:x})})]}))]})),a&&j&&jsx(SidebarNavSectionItemContextProvider,Object.assign({value:f},{children:jsx(Collapse,Object.assign({isOpen:!x},{children:a}))}))]}))}));SidebarNavSectionItem.displayName="SidebarNavSectionItem";export{SidebarNavSectionItem};
