'use client';
"use strict";var tslib=require("tslib"),jsxRuntime=require("react/jsx-runtime"),sidebar_reducer=require("./sidebar.reducer.cjs"),Sidebar_types=require("./Sidebar.types.cjs"),SidebarFooter=require("./SidebarFooter/SidebarFooter.cjs"),SidebarHead=require("./SidebarHead/SidebarHead.cjs"),SidebarNav=require("./SidebarNav/SidebarNav.cjs"),SidebarSeparator=require("./SidebarSeparator/SidebarSeparator.cjs"),theme_context=require("../../theme/theme.context.cjs"),usePropId=require("../../utils/usePropId.cjs"),React=require("react"),tailwindMerge=require("tailwind-merge"),Sidebar_context=require("./Sidebar.context.cjs");const defaultProps={color:"slate",expanded:!0,shadow:"lg"},SidebarRoot=React.forwardRef(((e,r)=>{const a=theme_context.useComponentTheme("Sidebar"),d=Object.assign(Object.assign({},defaultProps),e),{children:t,color:i,expanded:o=!0,className:s,onToggle:c,shadow:b}=d,n=tslib.__rest(d,["children","color","expanded","className","onToggle","shadow"]),u=React.useRef(!1),[S,l]=React.useReducer(sidebar_reducer.sidebarReducer,{hovered:!1,expanded:o,mobile:!1}),p=tailwindMerge.twMerge(a.base({className:s,color:i,shadow:b,expanded:S.expanded,hovered:S.hovered,mobile:S.mobile})),m=usePropId.usePropId(e.id),h={color:i,dispatch:l,state:S};React.useEffect((()=>{u.current?"function"==typeof c&&c(S):u.current=!0}),[S,c]);const x=e=>{l({type:Sidebar_types.sidebarActionEnum.mobile})};return React.useEffect((()=>(document.addEventListener("sidebar:toggle-mobile",x),()=>{document.removeEventListener("sidebar:toggle-mobile",x)}))),jsxRuntime.jsx("aside",Object.assign({id:m,ref:r,className:p,onMouseEnter:e=>{"sidebar-head-toggle"!==e.target.dataset.role&&(S.expanded||l({type:Sidebar_types.sidebarActionEnum.hover,payload:{hovered:!0}}))},onMouseLeave:()=>{S.expanded||l({type:Sidebar_types.sidebarActionEnum.hover,payload:{hovered:!1}})}},n,{children:jsxRuntime.jsx(Sidebar_context.SidebarContextProvider,Object.assign({value:h},{children:t}))}))}));SidebarRoot.displayName="Sidebar";const Sidebar=Object.assign(SidebarRoot,{Head:SidebarHead.SidebarHead,Nav:SidebarNav.SidebarNav,Separator:SidebarSeparator.SidebarSeparator,Footer:SidebarFooter.SidebarFooter});module.exports=Sidebar;
