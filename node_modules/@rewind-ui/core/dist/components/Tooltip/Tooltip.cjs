'use client';
"use strict";var jsxRuntime=require("react/jsx-runtime"),useTooltip_hook=require("./use-tooltip.hook.cjs"),react=require("@floating-ui/react"),theme_context=require("../../theme/theme.context.cjs"),usePropId=require("../../utils/usePropId.cjs"),React=require("react"),tailwindMerge=require("tailwind-merge");const defaultProps={color:"dark",initiallyOpen:!1,offset:6,placement:"top",radius:"lg",shadow:"none",size:"sm",tone:"solid",withinPortal:!0},Tooltip=React.forwardRef(((e,t)=>{const i=theme_context.useComponentTheme("Tooltip"),{tone:o,children:s,className:r="",color:a,initiallyOpen:n,label:l,offset:c,placement:u,radius:d,shadow:p,size:m,withinPortal:h}=Object.assign(Object.assign({},defaultProps),e),f=usePropId.usePropId(e.id),[g,j]=React.useState(!n),[x,R]=React.useState(null),{arrowRef:w,arrowSide:P,context:T,floating:y,getFloatingProps:b,getReferenceProps:N,open:O,reference:q,strategy:F,x:M,y:k}=useTooltip_hook.useTooltip({initiallyOpen:n,offset:c,placement:u});React.useEffect((()=>{x&&clearTimeout(x),R(setTimeout((()=>j(!O)),O?0:75))}),[O]);const v=React.Children.only(s),I=react.useMergeRefs([y,t||null]),S=React.useMemo((()=>tailwindMerge.twMerge(i.base({tone:o,arrowSide:P,className:r,color:a,open:O,radius:d,shadow:p,size:m}))),[o,P,r,a,O,d,p,m,i]),_=!g&&jsxRuntime.jsxs("div",Object.assign({id:f,ref:I,className:S,role:"dialog","aria-modal":"true","aria-hidden":!O,style:{position:F,top:k&&k>0&&!isNaN(k)&&isFinite(k)?k:0,left:M&&M>0&&!isNaN(M)&&isFinite(M)?M:0,visibility:null==M?"hidden":"visible"}},{children:[T.x&&T.y&&jsxRuntime.jsx(react.FloatingArrow,{className:i.arrow({tone:o,color:a}),ref:w,width:8,height:4,context:T}),l]})),z=React.cloneElement(v,Object.assign(Object.assign({ref:q},v.props),N));return jsxRuntime.jsxs(jsxRuntime.Fragment,{children:[h?jsxRuntime.jsx(react.FloatingPortal,{children:_}):_,z]})}));Tooltip.displayName="Tooltip",module.exports=Tooltip;
