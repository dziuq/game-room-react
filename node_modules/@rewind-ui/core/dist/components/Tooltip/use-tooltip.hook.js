import{useFloating,offset,shift,arrow,autoUpdate,useInteractions,useHover,safePolygon,useFocus,useDismiss,useRole}from"@floating-ui/react";import{inline,flip}from"@floating-ui/react-dom";import{arrowSideDictionary}from"../../helpers/arrow-side.dictionary.js";import{useRef,useState,useMemo}from"react";function useTooltip({initiallyOpen:e=!1,offset:o=5,placement:t="top"}){var r,s;const i=useRef(null),[a,n]=useState(e),{x:l,y:u,refs:f,strategy:p,context:c}=useFloating({open:a,onOpenChange:n,placement:t,middleware:[offset(o),shift(),inline(),flip(),arrow({element:i})],whileElementsMounted:autoUpdate}),{getReferenceProps:m,getFloatingProps:d}=useInteractions([useHover(c,{move:!1,handleClose:safePolygon()}),useFocus(c),useDismiss(c,{referencePress:!0}),useRole(c,{role:"tooltip"})]),g=(null===(r=c.middlewareData.arrow)||void 0===r?void 0:r.x)||0,w=(null===(s=c.middlewareData.arrow)||void 0===s?void 0:s.y)||0,y=arrowSideDictionary({side:c.placement});return useMemo((()=>({arrowRef:i,arrowSide:y,arrowX:g,arrowY:w,context:c,floating:f.setFloating,getFloatingProps:d(),getReferenceProps:m(),open:a,reference:f.setReference,strategy:p,x:l,y:u})),[y,g,w,c,f,d,m,a,p,l,u])}export{useTooltip};
