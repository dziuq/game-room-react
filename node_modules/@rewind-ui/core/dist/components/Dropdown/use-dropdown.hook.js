import{useFloating,offset,shift,arrow,autoUpdate,useInteractions,useClick,useHover,safePolygon,useFocus,useDismiss,useRole}from"@floating-ui/react";import{inline,flip}from"@floating-ui/react-dom";import{useRef,useState,useMemo}from"react";function useDropdown({placement:e="bottom",initiallyOpen:o=!1,outsidePress:t=!0,trigger:s="click"}){const n=useRef(null),[r,i]=useState(o),{x:l,y:a,refs:u,strategy:f,context:c}=useFloating({open:r,onOpenChange:i,placement:e,middleware:[offset(8),shift(),inline(),flip(),arrow({element:n})],whileElementsMounted:autoUpdate}),{getFloatingProps:g,getReferenceProps:p}=useInteractions([useClick(c,{enabled:"click"===s,toggle:!0}),useHover(c,{enabled:"hover"===s,move:!0,handleClose:safePolygon()}),useFocus(c),useDismiss(c,{referencePress:!1,outsidePress:t}),useRole(c,{role:"dialog"})]);return useMemo((()=>({arrowRef:n,context:c,floating:u.setFloating,getFloatingProps:g(),getReferenceProps:p(),open:r,setOpen:i,reference:u.setReference,strategy:f,x:l,y:a})),[c,u,g,p,r,i,f,l,a])}export{useDropdown};
