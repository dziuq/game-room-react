'use client';
"use strict";var tslib=require("tslib"),jsxRuntime=require("react/jsx-runtime"),Toast=require("../Toast.cjs"),toast_reducer=require("./toast.reducer.cjs"),react=require("@floating-ui/react"),theme_context=require("../../../theme/theme.context.cjs"),usePropId=require("../../../utils/usePropId.cjs"),React=require("react"),tailwindMerge=require("tailwind-merge"),index=require("../../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.cjs"),motion=require("../../../node_modules/framer-motion/dist/es/render/dom/motion.cjs");const defaultProps={max:5,position:"top-right"},ToastContainer=React.forwardRef(((e,t)=>{const s=theme_context.useComponentTheme("Toast"),[o,a]=React.useReducer(toast_reducer.toastReducer,[]),i=Object.assign(Object.assign({},defaultProps),e),{className:r="",max:n,position:d}=i,c=tslib.__rest(i,["className","max","position"]),m=usePropId.usePropId(e.id),u=e=>{a({type:toast_reducer.toastActionEnum.add,payload:e.detail,max:n})},l=e=>{a({type:toast_reducer.toastActionEnum.update,payload:e.detail})},p=e=>{a({type:toast_reducer.toastActionEnum.remove,payload:e.detail})},x=()=>{a({type:toast_reducer.toastActionEnum.clear,payload:{}})};React.useEffect((()=>(document.addEventListener("toasts:add",u),document.addEventListener("toasts:update",l),document.addEventListener("toasts:remove",p),document.addEventListener("toasts:clear",x),()=>{document.removeEventListener("toasts:add",u),document.removeEventListener("toasts:update",l),document.removeEventListener("toasts:remove",p),document.removeEventListener("toasts:clear",x)})));const j=React.useMemo((()=>tailwindMerge.twMerge(s.container({className:r,position:d}))),[r,d,s]);return jsxRuntime.jsx(react.FloatingPortal,{children:jsxRuntime.jsx("div",Object.assign({ref:t,id:m,className:j},c,{children:jsxRuntime.jsx(index.AnimatePresence,Object.assign({initial:!1},{children:o.map((e=>jsxRuntime.jsx(motion.motion.div,Object.assign({layout:!0,initial:{opacity:0,x:"top-right"===d||"bottom-right"===d?"100%":"-100%",scale:.85},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:"top-right"===d||"bottom-right"===d?"100%":"-100%",scale:.85,transition:{duration:.2}}},{children:jsxRuntime.jsx(Toast,Object.assign({},e))}),e.id)))}))}))})}));ToastContainer.displayName="ToastContainer",module.exports=ToastContainer;
