'use client';
import{__rest}from"tslib";import{jsxs,jsx}from"react/jsx-runtime";import{useComponentTheme}from"../../theme/theme.context.js";import{usePropId}from"../../utils/usePropId.js";import{forwardRef,useRef,useEffect}from"react";const defaultProps={animated:!1,color:"dark",radius:"md",shadow:"none",showValue:!1,size:"md",striped:!1},Progress=forwardRef(((e,s)=>{const r=useComponentTheme("Progress"),a=usePropId(e.id),i=`${a}-label`,t=Object.assign(Object.assign({},defaultProps),e),{animated:n,children:o,className:l="",color:d,description:c,label:u="",radius:m,shadow:p,showValue:f,size:b,striped:g,value:h=0}=t,j=__rest(t,["animated","children","className","color","description","label","radius","shadow","showValue","size","striped","value"]),x=useRef(null);useEffect((()=>{if(!n)return;if(!g)return;if(!(null==x?void 0:x.current))return;const e=x.current.animate({backgroundPosition:["0 0",r.stripe({size:b})]},{duration:2e3,iterations:1/0});return()=>{e.cancel()}}),[n,g,x,b,r]),useEffect((()=>{if(null==x?void 0:x.current){if(!g)return x.current.style.backgroundSize="",void(x.current.style.backgroundImage="");x.current.style.backgroundSize=r.stripe({size:b}),x.current.style.backgroundImage="linear-gradient(-45deg, rgba(255,255,255,.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.15) 75%, transparent 75%, transparent)"}}),[x,b,g,r]);const v=b&&["xs","sm"].includes(b)?"outer":"inner";return jsxs("div",Object.assign({id:a,ref:s,className:r.wrapper({className:l,size:b})},j,{children:[(u||f&&"outer"===v)&&jsxs("div",Object.assign({className:r.label({size:b})},{children:[u&&jsx("span",Object.assign({id:i,role:"presentation"},{children:u})),f&&"outer"===v&&jsxs("span",{children:[h,"%"]})]})),jsx("div",Object.assign({className:r.base({radius:m,size:b,shadow:p})},{children:jsx("div",Object.assign({ref:x,role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":h,"aria-labelledby":u?i:void 0,style:{width:`${h}%`},className:r.bar({color:d})},{children:f&&"inner"===v&&jsxs("span",{children:[h,"%"]})}))})),c&&jsx("span",Object.assign({className:r.description({size:b})},{children:c}))]}))}));Progress.displayName="Progress";export{Progress as default};
