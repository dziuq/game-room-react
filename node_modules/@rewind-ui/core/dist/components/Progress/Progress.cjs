'use client';
"use strict";var tslib=require("tslib"),jsxRuntime=require("react/jsx-runtime"),theme_context=require("../../theme/theme.context.cjs"),usePropId=require("../../utils/usePropId.cjs"),React=require("react");const defaultProps={animated:!1,color:"dark",radius:"md",shadow:"none",showValue:!1,size:"md",striped:!1},Progress=React.forwardRef(((e,s)=>{const r=theme_context.useComponentTheme("Progress"),a=usePropId.usePropId(e.id),i=`${a}-label`,t=Object.assign(Object.assign({},defaultProps),e),{animated:n,children:c,className:u="",color:l,description:o,label:d="",radius:m,shadow:p,showValue:b,size:j,striped:g,value:x=0}=t,h=tslib.__rest(t,["animated","children","className","color","description","label","radius","shadow","showValue","size","striped","value"]),f=React.useRef(null);React.useEffect((()=>{if(!n)return;if(!g)return;if(!(null==f?void 0:f.current))return;const e=f.current.animate({backgroundPosition:["0 0",r.stripe({size:j})]},{duration:2e3,iterations:1/0});return()=>{e.cancel()}}),[n,g,f,j,r]),React.useEffect((()=>{if(null==f?void 0:f.current){if(!g)return f.current.style.backgroundSize="",void(f.current.style.backgroundImage="");f.current.style.backgroundSize=r.stripe({size:j}),f.current.style.backgroundImage="linear-gradient(-45deg, rgba(255,255,255,.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.15) 75%, transparent 75%, transparent)"}}),[f,j,g,r]);const R=j&&["xs","sm"].includes(j)?"outer":"inner";return jsxRuntime.jsxs("div",Object.assign({id:a,ref:s,className:r.wrapper({className:u,size:j})},h,{children:[(d||b&&"outer"===R)&&jsxRuntime.jsxs("div",Object.assign({className:r.label({size:j})},{children:[d&&jsxRuntime.jsx("span",Object.assign({id:i,role:"presentation"},{children:d})),b&&"outer"===R&&jsxRuntime.jsxs("span",{children:[x,"%"]})]})),jsxRuntime.jsx("div",Object.assign({className:r.base({radius:m,size:j,shadow:p})},{children:jsxRuntime.jsx("div",Object.assign({ref:f,role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":x,"aria-labelledby":d?i:void 0,style:{width:`${x}%`},className:r.bar({color:l})},{children:b&&"inner"===R&&jsxRuntime.jsxs("span",{children:[x,"%"]})}))})),o&&jsxRuntime.jsx("span",Object.assign({className:r.description({size:j})},{children:o}))]}))}));Progress.displayName="Progress",module.exports=Progress;
