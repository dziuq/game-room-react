"use strict";var jsxRuntime=require("react/jsx-runtime"),Combobox_context=require("../Combobox.context.cjs"),Combobox_types=require("../Combobox.types.cjs"),textNormalize_utility=require("../../../helpers/text-normalize.utility.cjs"),Check=require("../../../icons/Check.cjs"),theme_context=require("../../../theme/theme.context.cjs"),usePropId=require("../../../utils/usePropId.cjs"),React=require("react");const ComboboxOption=React.forwardRef(((e,o)=>{const t=theme_context.useComponentTheme("ComboboxOption"),{value:i,label:s,description:a,media:l}=e,n=!!e.disabled,r=usePropId.usePropId(e.id),{dispatch:c,externalSearch:m,mode:b,multiple:u,optionColor:x,radius:d,size:p,state:C}=Combobox_context.useComboboxContext(),y=textNormalize_utility.textNormalize(C.search||""),j=textNormalize_utility.textNormalize(s||""),h=textNormalize_utility.textNormalize(a||""),_=!m&&!j.includes(y)&&!h.includes(y),g=-1!==C.selectedOptions.findIndex((e=>e.value===i));React.useEffect((()=>{c({type:Combobox_types.ComboboxActionEnum.register,payload:{value:i,label:s}}),C.initialValue&&("string"!=typeof C.initialValue||C.initialValue!==i?Array.isArray(C.initialValue)&&C.initialValue.includes(i)&&c({type:Combobox_types.ComboboxActionEnum.multi_select,payload:{value:i,omitOnChange:!0}}):c({type:Combobox_types.ComboboxActionEnum.single_select,payload:{value:i,omitOnChange:!0}}))}),[]);return jsxRuntime.jsxs("button",Object.assign({id:r,ref:o,"aria-selected":g,role:"option",className:t.button({optionColor:x,radius:d,selected:g,hidden:_,size:p,mode:b}),"aria-hidden":_,disabled:n,"aria-disabled":n,onClick:()=>{c(u?{type:Combobox_types.ComboboxActionEnum.multi_select,payload:{value:i,toggle:!0}}:{type:Combobox_types.ComboboxActionEnum.single_select,payload:{value:i,toggle:!0}})}},{children:[jsxRuntime.jsxs("div",Object.assign({className:t.optionWrapper()},{children:[l,jsxRuntime.jsxs("div",Object.assign({className:t.infoWrapper()},{children:[jsxRuntime.jsx("span",Object.assign({className:t.label({disabled:n,selected:g})},{children:s})),jsxRuntime.jsx("span",Object.assign({className:t.description({disabled:n,selected:g})},{children:a}))]}))]})),g&&jsxRuntime.jsx(Check.CheckIcon,{className:t.icon({size:p})})]}))}));ComboboxOption.displayName="ComboboxOption",exports.ComboboxOption=ComboboxOption;
