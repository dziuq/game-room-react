'use client';
"use strict";var tslib=require("tslib"),jsxRuntime=require("react/jsx-runtime"),SelectorTab=require("./SelectorTab/SelectorTab.cjs"),react=require("@floating-ui/react"),useHorizontalArrows_hook=require("../../hooks/use-horizontal-arrows.hook.cjs"),theme_context=require("../../theme/theme.context.cjs"),usePropId=require("../../utils/usePropId.cjs"),React=require("react"),tailwindMerge=require("tailwind-merge"),Selector_context=require("./Selector.context.cjs");const defaultProps={color:"dark",fullWidth:!1,orientation:"horizontal",radius:"lg",shadow:"base",size:"md",tone:"solid",withAnimation:!0,withSeparator:!0},_Selector=React.forwardRef(((e,t)=>{const r=theme_context.useComponentTheme("Selector"),o=Object.assign(Object.assign({},defaultProps),e),{children:s,className:i="",color:a,fullWidth:n,onChange:c,orientation:l,radius:u,separator:d,shadow:h,size:p,tone:f,value:m,withAnimation:w,withSeparator:R}=o,S=tslib.__rest(o,["children","className","color","fullWidth","onChange","orientation","radius","separator","shadow","size","tone","value","withAnimation","withSeparator"]),b=usePropId.usePropId(e.id),g=React.useRef(null),x=react.useMergeRefs([t||null,g]),[j,v]=React.useState(m),z=React.useRef(!0),q=React.useRef(null),P=React.useRef(null),[_,y]=React.useState(""),A=new Map,T=React.useMemo((()=>tailwindMerge.twMerge(r.wrapper({className:i,fullWidth:n,orientation:l,radius:u,shadow:h,size:p}))),[i,n,l,u,h,p,r]),k=(e,t,o,s="md",i="horizontal",a=!0)=>{const n=e.getBoundingClientRect(),c=n.width,l=n.height;t.style.setProperty("width",`${c}px`),t.style.setProperty("height",`${l}px`),t.style.setProperty("top",`${e.offsetTop}px`),t.style.setProperty("left",`${e.offsetLeft}px`),y(r.base({color:A.get(o),size:s,radius:u,tone:f,initialRun:a,withAnimation:w}))};React.useEffect((()=>{var e;if(!j)return;const t=null===(e=g.current)||void 0===e?void 0:e.querySelector('button[aria-checked="true"]');return t&&q.current?(k(t,q.current,j,p,l,z.current),z.current=!1,P.current=new ResizeObserver((e=>{q.current&&k(t,q.current,j,p,l,z.current)})),P.current.observe(q.current),()=>{P.current&&P.current.disconnect()}):void 0}),[j,a,n,l,u,p,f,w,R]),React.useEffect((()=>{c&&!z.current&&c(j)}),[j]);const C={activeTabAnchor:j,color:a,orientation:l,radius:u,separator:d,setActiveTabAnchor:v,shadow:h,size:p,tone:f,withSeparator:R};return React.Children.map(s,(e=>{A.set(e.props.anchor,e.props.color||a)})),useHorizontalArrows_hook.useHorizontalArrows(g),jsxRuntime.jsx(Selector_context.SelectorContextProvider,Object.assign({value:C},{children:jsxRuntime.jsxs("div",Object.assign({id:b,ref:x,role:"radiogroup",className:T},S,{children:[s,jsxRuntime.jsx("div",{ref:q,className:_})]}))}))}));_Selector.displayName="Selector";const Selector=Object.assign(_Selector,{Tab:SelectorTab.SelectorTab});module.exports=Selector;
