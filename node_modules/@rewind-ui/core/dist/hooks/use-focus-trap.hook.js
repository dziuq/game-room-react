import{useRef,useEffect,useCallback}from"react";function useFocusTrap(e=!0){const t=useRef(null);return useEffect((()=>{if(!e)return;const r=e=>{var r,n;if("Tab"===e.key&&t.current){e.preventDefault();const u=Array.from(null===(r=t.current)||void 0===r?void 0:r.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!u.length)return;null===(n=((e,t)=>{const r=t?e-1:e+1;return r<0||r>=u.length?t?u[u.length-1]:u[0]:u[r]})(u.indexOf(document.activeElement),e.shiftKey))||void 0===n||n.focus()}};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}}),[e]),useCallback((r=>{if(e)return t.current||(t.current=r),t.current&&t.current.focus(),t}),[e])}export{useFocusTrap};
