"use strict";var progress=require("../../../utils/progress.cjs"),deltaCalc=require("../../../projection/geometry/delta-calc.cjs"),clamp=require("../../../utils/clamp.cjs"),mix=require("../../../utils/mix.cjs");function applyConstraints(t,{min:i,max:s},n){return void 0!==i&&t<i?t=n?mix.mix(i,t,n.min):Math.max(t,i):void 0!==s&&t>s&&(t=n?mix.mix(s,t,n.max):Math.min(t,s)),t}function calcRelativeAxisConstraints(t,i,s){return{min:void 0!==i?t.min+i:void 0,max:void 0!==s?t.max+s-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:i,left:s,bottom:n,right:r}){return{x:calcRelativeAxisConstraints(t.x,s,r),y:calcRelativeAxisConstraints(t.y,i,n)}}function calcViewportAxisConstraints(t,i){let s=i.min-t.min,n=i.max-t.max;return i.max-i.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function calcViewportConstraints(t,i){return{x:calcViewportAxisConstraints(t.x,i.x),y:calcViewportAxisConstraints(t.y,i.y)}}function calcOrigin(t,i){let s=.5;const n=deltaCalc.calcLength(t),r=deltaCalc.calcLength(i);return r>n?s=progress.progress(i.min,i.max-n,t.min):n>r&&(s=progress.progress(t.min,t.max-r,i.min)),clamp.clamp(0,1,s)}function rebaseAxisConstraints(t,i){const s={};return void 0!==i.min&&(s.min=i.min-t.min),void 0!==i.max&&(s.max=i.max-t.min),s}const defaultElastic=.35;function resolveDragElastic(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,i,s){return{min:resolvePointElastic(t,i),max:resolvePointElastic(t,s)}}function resolvePointElastic(t,i){return"number"==typeof t?t:t[i]||0}exports.applyConstraints=applyConstraints,exports.calcOrigin=calcOrigin,exports.calcRelativeAxisConstraints=calcRelativeAxisConstraints,exports.calcRelativeConstraints=calcRelativeConstraints,exports.calcViewportAxisConstraints=calcViewportAxisConstraints,exports.calcViewportConstraints=calcViewportConstraints,exports.defaultElastic=.35,exports.rebaseAxisConstraints=rebaseAxisConstraints,exports.resolveAxisElastic=resolveAxisElastic,exports.resolveDragElastic=resolveDragElastic,exports.resolvePointElastic=resolvePointElastic;
