"use strict";var errors=require("../../utils/errors.cjs"),timeConversion=require("../../utils/time-conversion.cjs"),useInstantTransitionState=require("../../utils/use-instant-transition-state.cjs"),createAcceleratedAnimation=require("../animators/waapi/create-accelerated-animation.cjs"),instant=require("../animators/instant.cjs"),defaultTransitions=require("../utils/default-transitions.cjs"),isAnimatable=require("../utils/is-animatable.cjs"),keyframes=require("../utils/keyframes.cjs"),transitions=require("../utils/transitions.cjs"),index=require("../animators/js/index.cjs");const animateMotionValue=(e,t,n,a={})=>i=>{const s=transitions.getValueTransition(a,e)||{},r=s.delay||a.delay||0;let{elapsed:o=0}=a;o-=timeConversion.secondsToMilliseconds(r);const l=keyframes.getKeyframes(t,e,n,s),u=l[0],c=l[l.length-1],m=isAnimatable.isAnimatable(e,u),d=isAnimatable.isAnimatable(e,c);errors.warning(m===d,`You are trying to animate ${e} from "${u}" to "${c}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${c} via the \`style\` property.`);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(transitions.isTransitionDefined(s)||(p={...p,...defaultTransitions.getDefaultTransition(e,p)}),p.duration&&(p.duration=timeConversion.secondsToMilliseconds(p.duration)),p.repeatDelay&&(p.repeatDelay=timeConversion.secondsToMilliseconds(p.repeatDelay)),!m||!d||useInstantTransitionState.instantAnimationState.current||!1===s.type)return instant.createInstantAnimation(p);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=createAcceleratedAnimation.createAcceleratedAnimation(t,e,p);if(n)return n}return index.animateValue(p)};exports.animateMotionValue=animateMotionValue;
