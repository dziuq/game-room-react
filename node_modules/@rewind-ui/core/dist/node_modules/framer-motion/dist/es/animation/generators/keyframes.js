import{easeInOut}from"../../easing/ease.js";import{isEasingArray}from"../../easing/utils/is-easing-array.js";import{easingDefinitionToFunction}from"../../easing/utils/map.js";import{interpolate}from"../../utils/interpolate.js";import{defaultOffset}from"../../utils/offsets/default.js";import{convertOffsetToTimes}from"../../utils/offsets/time.js";function defaultEasing(e,t){return e.map((()=>t||easeInOut)).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){const n=isEasingArray(s)?s.map(easingDefinitionToFunction):easingDefinitionToFunction(s),a={done:!1,value:t[0]},o=convertOffsetToTimes(i&&i.length===t.length?i:defaultOffset(t),e),r=interpolate(o,t,{ease:Array.isArray(n)?n:defaultEasing(t,n)});return{calculatedDuration:e,next:t=>(a.value=r(t),a.done=t>=e,a)}}export{defaultEasing,keyframes};
