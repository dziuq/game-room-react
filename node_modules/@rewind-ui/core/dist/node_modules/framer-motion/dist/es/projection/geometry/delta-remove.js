import{mix}from"../../utils/mix.js";import{percent}from"../../value/types/numbers/units.js";import{scalePoint}from"./delta-apply.js";function removePointDelta(e,o,i,r,m){return e=scalePoint(e-=o,1/i,r),void 0!==m&&(e=scalePoint(e,1/m,r)),e}function removeAxisDelta(e,o=0,i=1,r=.5,m,s=e,n=e){if(percent.test(o)){o=parseFloat(o);o=mix(n.min,n.max,o/100)-n.min}if("number"!=typeof o)return;let t=mix(s.min,s.max,r);e===s&&(t-=o),e.min=removePointDelta(e.min,o,i,t,m),e.max=removePointDelta(e.max,o,i,t,m)}function removeAxisTransforms(e,o,[i,r,m],s,n){removeAxisDelta(e,o[i],o[r],o[m],o.scale,s,n)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,o,i,r){removeAxisTransforms(e.x,o,xKeys,i?i.x:void 0,r?r.x:void 0),removeAxisTransforms(e.y,o,yKeys,i?i.y:void 0,r?r.y:void 0)}export{removeAxisDelta,removeAxisTransforms,removeBoxTransforms,removePointDelta};
