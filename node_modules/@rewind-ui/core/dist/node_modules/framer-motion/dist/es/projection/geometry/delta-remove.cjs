"use strict";var mix=require("../../utils/mix.cjs"),units=require("../../value/types/numbers/units.cjs"),deltaApply=require("./delta-apply.cjs");function removePointDelta(e,r,o,s,i){return e-=r,e=deltaApply.scalePoint(e,1/o,s),void 0!==i&&(e=deltaApply.scalePoint(e,1/i,s)),e}function removeAxisDelta(e,r=0,o=1,s=.5,i,t=e,m=e){if(units.percent.test(r)){r=parseFloat(r);r=mix.mix(m.min,m.max,r/100)-m.min}if("number"!=typeof r)return;let n=mix.mix(t.min,t.max,s);e===t&&(n-=r),e.min=removePointDelta(e.min,r,o,n,i),e.max=removePointDelta(e.max,r,o,n,i)}function removeAxisTransforms(e,r,[o,s,i],t,m){removeAxisDelta(e,r[o],r[s],r[i],r.scale,t,m)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,r,o,s){removeAxisTransforms(e.x,r,xKeys,o?o.x:void 0,s?s.x:void 0),removeAxisTransforms(e.y,r,yKeys,o?o.y:void 0,s?s.y:void 0)}exports.removeAxisDelta=removeAxisDelta,exports.removeAxisTransforms=removeAxisTransforms,exports.removeBoxTransforms=removeBoxTransforms,exports.removePointDelta=removePointDelta;
