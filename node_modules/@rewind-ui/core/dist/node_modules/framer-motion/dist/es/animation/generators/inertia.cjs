"use strict";var index=require("./spring/index.cjs"),velocity=require("./utils/velocity.cjs");function inertia({keyframes:e,velocity:t=0,power:i=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:r,min:s,max:l,restDelta:c=.5,restSpeed:v}){const d=e[0],u={done:!1,value:d},p=e=>void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l;let y=i*t;const f=d+y,m=void 0===r?f:r(f);m!==f&&(y=m-d);const x=e=>-y*Math.exp(-e/n),b=e=>m+x(e),g=e=>{const t=x(e),i=b(e);u.done=Math.abs(t)<=c,u.value=u.done?m:i};let h,D;const M=e=>{var t;(t=u.value,void 0!==s&&t<s||void 0!==l&&t>l)&&(h=e,D=index.spring({keyframes:[u.value,p(u.value)],velocity:velocity.calcGeneratorVelocity(b,e,u.value),damping:a,stiffness:o,restDelta:c,restSpeed:v}))};return M(0),{calculatedDuration:null,next:e=>{let t=!1;return D||void 0!==h||(t=!0,g(e),M(e)),void 0!==h&&e>h?D.next(e-h):(!t&&g(e),u)}}}exports.inertia=inertia;
